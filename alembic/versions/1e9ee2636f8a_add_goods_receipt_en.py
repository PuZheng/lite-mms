# -*- coding: UTF-8 -*-"""add goods receipt entry tableRevision ID: 1e9ee2636f8aRevises: 318cae8ec27eCreate Date: 2013-04-23 11:40:57.400000"""# revision identifiers, used by Alembic.from lite_mms.utilities import do_commitrevision = '1e9ee2636f8a'down_revision = '318cae8ec27e'from alembic import opimport sqlalchemy as sadef upgrade():    op.create_table("TB_GOODS_RECEIPT_ENTRY",                    sa.Column("id", sa.Integer, primary_key=True),                    sa.Column("goods_receipt_id", sa.Integer,                              sa.ForeignKey("TB_GOODS_RECEIPT.id")),                    sa.Column("weight", sa.Integer),                    sa.Column("product_id", sa.Integer, sa.ForeignKey("TB_PRODUCT.id")),                    sa.Column("harbor_name", sa.String(32), sa.ForeignKey("TB_HABOR.name")),                    sa.Column("pic_path", sa.String(256))                    )    from lite_mms import apis    for us in apis.cargo.get_unload_session_list()[0]:        for gr in us.goods_receipt_list:            gr.add_product_entries()    op.add_column("TB_SUB_ORDER", sa.Column("default_harbor_name", sa.String(32), sa.ForeignKey("TB_HABOR.name", name="tb_sub_order_fk_harbor_name1")))def downgrade():    op.drop_table("TB_GOODS_RECEIPT_ENTRY")    op.drop_constraint("tb_sub_order_fk_harbor_name1", "TB_SUB_ORDER",                       type_="foreignkey")    op.drop_column("TB_SUB_ORDER", "default_harbor_name")