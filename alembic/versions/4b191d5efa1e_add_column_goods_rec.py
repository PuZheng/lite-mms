"""add column goods_receipt_id to table TB_UNLOAD_TASKRevision ID: 4b191d5efa1eRevises: 51242e27bc6Create Date: 2013-03-27 17:05:46.094000"""# revision identifiers, used by Alembic.revision = '4b191d5efa1e'down_revision = '51242e27bc6'from alembic import opimport sqlalchemy as sadef upgrade():    op.add_column("TB_UNLOAD_TASK", sa.Column("goods_receipt_id", sa.Integer,                                              sa.ForeignKey(                                                  "TB_GOODS_RECEIPT.id")))    from lite_mms.utilities import do_commit    from lite_mms.apis.cargo import get_unload_session_list    us_list = get_unload_session_list()[0]    for us in us_list:        for ut in us.task_list:            for receipt in us.goods_receipt_list:                if receipt.customer_id == ut.customer_id:                    ut.goods_receipt = receipt                    do_commit(ut)def downgrade():    op.drop_constraint("tb_unload_task_ibfk_6","TB_UNLOAD_TASK",type="foreignkey")    op.drop_column("TB_UNLOAD_TASK", "goods_receipt_id")